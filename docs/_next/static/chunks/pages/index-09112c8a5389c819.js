(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(4854)}])},4854:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return S}});var s,r,a=n(5893),i=n(9008),o=n.n(i),A=n(7294);async function l(e,t,n){let s=new Uint8Array(await crypto.subtle.decrypt({name:"AES-GCM",iv:t},e,n));return new TextDecoder().decode(s)}async function c(e,t){let n=new TextEncoder,s=await crypto.subtle.importKey("raw",n.encode(t),"PBKDF2",!1,["deriveKey"]);return await crypto.subtle.deriveKey({name:"PBKDF2",salt:e,iterations:1e5,hash:"SHA-256"},s,{name:"AES-GCM",length:256},!0,["decrypt"])}function d(e){let t=function(e){for(var t=window.atob(e),n=new ArrayBuffer(t.length),s=new Uint8Array(n),r=0,a=t.length;r<a;r++)s[r]=t.charCodeAt(r);return s}(e);return{salt:t.slice(0,32),initializationVector:t.slice(32,48),encryptedText:t.slice(48)}}var u=JSON.parse('{"homepage.md":"wEA9NAQW1Oe0+42zhIwh+sMbX0IdRKmLbGsbkEEg7oM3CQiUzVWXjeGd/zSvk2j1xkTsVa7rGf2jl8Kzz0GylkUjOWPEozvZVPYk7ho0LVzfPq2Ct/pFlfWeSpqQrDPyuGzxWw=="}');let w="mw-key";async function h(e){let t=window.sessionStorage.getItem(w);if(!t)return!1;try{let n=await crypto.subtle.importKey("jwk",JSON.parse(window.atob(t)),{name:"AES-GCM"},!1,["decrypt"]),{initializationVector:s,encryptedText:r}=d(e);return await l(n,s,r)}catch(e){console.error(e)}return!1}var m=n(447),y=n.n(m);let g=()=>{let e=Object.keys(u);return u[e[0]]};(s=r||(r={}))[s.unknown=0]="unknown",s[s.allowed=1]="allowed",s[s.noSessionKey=2]="noSessionKey",s[s.invalidPassword=3]="invalidPassword";let p=e=>{let{children:t}=e,[n,s]=(0,A.useState)(!1),[i,o]=(0,A.useState)(r.unknown);if((0,A.useEffect)(()=>{s(!0);let e=async()=>{let e=await h(g());o(e?r.allowed:r.noSessionKey)};e()},[]),!n||i===r.unknown)return(0,a.jsx)("span",{});if(i===r.allowed)return(0,a.jsx)(a.Fragment,{children:t});let u=async e=>{e.preventDefault(),o(r.noSessionKey);let t=new FormData(e.currentTarget),n=t.get("password");if(!n)return;let s=!1;try{let{salt:e,initializationVector:t,encryptedText:r}=d(g()),a=await c(e,n);await l(a,t,r),s=!0;let i=await crypto.subtle.exportKey("jwk",a);window.sessionStorage.setItem(w,window.btoa(JSON.stringify(i)))}catch(e){console.error(e)}s?o(r.allowed):o(r.invalidPassword)},m=y().PasswordForm;return(0,a.jsxs)("form",{className:m,onSubmit:u,children:[(0,a.jsxs)("p",{children:["Welcome to Wesley & Madalyn's Wedding Website! ",(0,a.jsx)("br",{}),i===r.invalidPassword?(0,a.jsx)("span",{className:"text-danger",children:"Incorrect password, please try again."}):"Please enter the password found on our Save The Date:"]}),(0,a.jsx)("label",{children:"Password:"}),(0,a.jsx)("input",{type:"password",name:"password",required:!0}),(0,a.jsx)("button",{type:"submit",className:"btn btn-outline-success",children:"Submit"})]})},x=e=>{let[t,n]=(0,A.useState)(!0),[s,r]=(0,A.useState)(null);return(0,A.useEffect)(()=>{n(!0);let t=async()=>{let t=u[e],s=await h(t);s?(r(s),n(!1)):n(Error("Access Denied"))};t()},[e]),{content:s,..."boolean"==typeof t?{loading:t,error:null}:{loading:!1,error:t}}};var b={src:"/_next/static/media/tamarack_org.47b841bc.jpg",height:4048,width:3036,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoHBwgHBgoICAgLCgoLDhgQDg0NDh0VFhEYIx8lJCIfIiEmKzcvJik0KSEiMEExNDk7Pj4+JS5ESUM8SDc9Pjv/2wBDAQoLCw4NDhwQEBw7KCIoOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozv/wAARCAAIAAYDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAX/xAAcEAABBAMBAAAAAAAAAAAAAAABAAIDEQQFEiH/xAAVAQEBAAAAAAAAAAAAAAAAAAAABP/EABYRAQEBAAAAAAAAAAAAAAAAAAEAAv/aAAwDAQACEQMRAD8AmRZW3z8jraQyMZyS0kG7uvSiIo9AscF//9k=",blurWidth:6,blurHeight:8},f=n(8569);let j=e=>{let{markdown:t,...n}=e,s=(0,A.useMemo)(()=>({__html:(0,f.H)(t)}),[t]);return(0,a.jsx)("div",{...n,dangerouslySetInnerHTML:s})},v=()=>{let{content:e}=x("homepage.md");return(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"bg-image",style:{backgroundImage:"url(".concat(b.src,")"),backgroundSize:"cover",width:"100%",minHeight:"100vh",backgroundPositionY:"center"},children:(0,a.jsxs)("div",{className:"mask",style:{backgroundColor:"rgba(0, 0, 0, 0.6)",width:"100%",minHeight:"100vh"},children:[(0,a.jsx)("div",{className:"d-flex justify-content-center align-items-center height-500-px text-white",children:e&&(0,a.jsx)(j,{markdown:e})}),(0,a.jsx)("div",{className:"light-color m-5 height-500-px",children:"More content here"})]})}),(0,a.jsx)("div",{className:"vh-50 p-5",children:(0,a.jsx)("div",{className:"light-color mt-neg-200-px min-height-300-px",children:"test"})})]})},E=()=>(0,a.jsxs)("main",{children:[(0,a.jsx)(o(),{children:(0,a.jsx)("title",{children:"Madalyn Coryea and Wesley Ripley's Wedding Website"})}),(0,a.jsx)(p,{children:(0,a.jsx)(v,{})})]});var S=E},447:function(e){e.exports={PasswordForm:"password_PasswordForm__HOUkJ"}}},function(e){e.O(0,[569,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);